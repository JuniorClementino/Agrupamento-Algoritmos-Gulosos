var fs = require('fs');

exports.saveToFile =  function(clusters, filename){
    let lines = "";

    clusters.forEach(element => {
        lines += element + "\n";
    });

    fs.writeFile("./"+ filename + ".txt", lines, function(err) {
        if(err) {
            return console.log("err");
        }
    });   
}

exports.formatClusterIndexes = function (unionFind){
    let clusters = [];
       
    let lastGroupNameCreated = 0;
    // --- Creates an array to store the new group names
    let newGroupNames = [];

    // --- For each node vx
    for(vx = 0; vx < unionFind.id.length; vx++){

        // --- Finds the group gvx from vx
        let gvx = unionFind.find(vx);

        let newGroupName;

        // --- If there is a new group name for gvx
        if(newGroupNames[gvx]){
            
            // --- Assings vx ti the new group name
            newGroupName = newGroupNames[gvx];

        } 
        // --- If for gvx there is no new group defined yet
        else{
            
            // --- Creates a new group name
            lastGroupNameCreated++;
            newGroupNames[gvx] = lastGroupNameCreated; 
            newGroupName = lastGroupNameCreated;
        }

        clusters.push(newGroupName);        
    }

    return clusters;
}